import{c as x,d as j,r as d,e as f,g as p,j as e,h as N,i as v,a as q,b as C,t as E}from"./index-Bx_K_Yvs.js";import{N as S,B as y,T as F}from"./Toggle-BEATn4v9.js";const T=()=>{const t=x(),{formData:r,errors:a,submitting:l,submitSuccess:c,submitError:m}=j(s=>s.contact);d.useEffect(()=>{if(c||m){const s=setTimeout(()=>{t(f())},5e3);return()=>clearTimeout(s)}},[c,m,t]);const u=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),n=d.useCallback(s=>{const{name:i,value:o}=s.target;t(p({field:i,value:o}))},[t]),h=()=>{let s=!0;const i={};return r.name.trim()?r.name.trim().length<2&&(i.name="Name must be at least 2 characters",s=!1):(i.name="Name is required",s=!1),r.email.trim()?u(r.email)||(i.email="Please enter a valid email address",s=!1):(i.email="Email is required",s=!1),r.message.trim()?r.message.trim().length<10&&(i.message="Message must be at least 10 characters",s=!1):(i.message="Message is required",s=!1),Object.entries(i).forEach(([o,b])=>{t(v({field:o,error:b}))}),s},g=async s=>{s.preventDefault(),h()&&t(N(r))};return e.jsx("div",{className:"contact-form-container",children:e.jsxs("form",{onSubmit:g,className:"contact-form",noValidate:!0,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"name",children:["Name ",e.jsx("span",{className:"required","aria-label":"required",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:n,className:a.name?"error":"","aria-required":"true","aria-invalid":!!a.name,"aria-describedby":a.name?"name-error":void 0,disabled:l}),a.name&&e.jsx("span",{id:"name-error",className:"error-message",role:"alert",children:a.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"email",children:["Email ",e.jsx("span",{className:"required","aria-label":"required",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:n,className:a.email?"error":"","aria-required":"true","aria-invalid":!!a.email,"aria-describedby":a.email?"email-error":void 0,disabled:l}),a.email&&e.jsx("span",{id:"email-error",className:"error-message",role:"alert",children:a.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"subject",children:"Subject"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:n,disabled:l})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"message",children:["Message ",e.jsx("span",{className:"required","aria-label":"required",children:"*"})]}),e.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:n,rows:6,className:a.message?"error":"","aria-required":"true","aria-invalid":!!a.message,"aria-describedby":a.message?"message-error":void 0,disabled:l}),a.message&&e.jsx("span",{id:"message-error",className:"error-message",role:"alert",children:a.message})]}),c&&e.jsxs("div",{className:"success-message",role:"alert",children:[e.jsx("i",{className:"fa-solid fa-circle-check"})," Your message has been sent successfully!"]}),m&&e.jsxs("div",{className:"error-message-box",role:"alert",children:[e.jsx("i",{className:"fa-solid fa-circle-exclamation"})," ",m]}),e.jsx("button",{type:"submit",className:"submit-button",disabled:l,"aria-busy":l,children:l?"Sending...":"Send Message"})]})})},M=()=>{const t=q(),r=C(l=>l.theme.isDarkMode),a=()=>{t(E())};return d.useEffect(()=>{document.title="Contact | Luca Camilleri"},[]),e.jsxs("div",{className:"contact-page",children:[e.jsx(S,{theme:r?"dark":"light"}),e.jsx(y,{handleChange:a}),e.jsx(F,{handleChange:a}),e.jsxs("main",{className:"contact-main",children:[e.jsxs("header",{className:"contact-header",children:[e.jsx("h1",{children:"Get In Touch"}),e.jsx("p",{children:"Have a question or want to work together? Send me a message!"})]}),e.jsx(T,{})]})]})};export{M as default};
